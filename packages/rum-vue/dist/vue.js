var A={install(t,n={}){let e=n.track??n.client?.track,r=typeof n.warnSampleRate=="number"?n.warnSampleRate:0,o=n.dedupWindowMs??1e4,i=n.maxMessageLen??500,l=n.maxStackLen??2e3,m=!!n.includeProps,p=new Map,b=t.config.errorHandler,w=t.config.warnHandler;t.config.errorHandler=(s,c,a)=>{try{let u=k(s,i),g=P(s,l),d=y(c),h=m?v(c):void 0,S=M(`${u}|${d}|${C(g,5)}|${a}`).toString(36);$(p,S,o)||e?.({type:"vue-error",message:u,stack:g,name:d,info:a,props:h});}catch{}try{n.onError?.(s,c,a);}catch{}try{b?.(s,c,a);}catch{}},(r>0||n.onWarn)&&(t.config.warnHandler=(s,c,a)=>{try{if(n.onWarn?.(s,c,a),r>0&&Math.random()<r){let u=String(a||"").split(`
`).slice(0,5);e?.({type:"vue-warn",message:String(s).slice(0,i),name:y(c),trace:a,traceLines:u});}}catch{}try{w?.(s,c,a);}catch{}});try{t.config.globalProperties.$rum=s=>e?.(s);}catch{}}};function k(t,n){if(t==null)return "";if(typeof t=="string")return f(t,n);let e=t,r=e?.name?String(e.name)+": ":"",o=e?.message?String(e.message):String(e);return f(r+o,n)}function P(t,n){let e=t?.stack?String(t.stack):"";return f(e,n)}function y(t){try{let n=t;return n?.$?.type?.name||n?.$?.type?.__name||n?.$options?.name||n?.$?.type?.__file||"AnonymousComponent"}catch{return "AnonymousComponent"}}function v(t){try{let n=t?.$props||t?.$?.props;if(!n)return;let e={};return Object.keys(n).slice(0,20).forEach(r=>{let o=n[r];o==null||typeof o=="string"||typeof o=="number"||typeof o=="boolean"?e[r]=o:e[r]=String(o).slice(0,120);}),e}catch{return}}function f(t,n){return t.length>n?t.slice(0,n):t}function C(t,n=5){return (t||"").split(`
`).slice(0,n).join(`
`)}function M(t){let n=5381,e=t.length;for(;e;)n=n*33^t.charCodeAt(--e);return n>>>0}function $(t,n,e){let r=Date.now(),o=t.get(n)||0;if(r-o<e)return  true;if(t.set(n,r),t.size>200){let i=r-e*2;for(let[l,m]of t)m<i&&t.delete(l);}return  false}export{A as default};